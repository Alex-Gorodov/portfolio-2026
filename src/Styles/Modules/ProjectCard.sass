@keyframes phone-take-out
  0%
    transform: none
  20%
    transform: translateY(-196%)
  40%
    transform: translateY(-100%) perspective(900px) rotateX(4deg)
  60%
    transform: translateY(-100%) perspective(900px) rotateX(4deg)
  80%
    transform: translateY(-100%) perspective(900px) rotateX(4deg)
  100%
    transform: translateY(-100%) perspective(900px) rotateX(4deg)

@keyframes phone-frame-overflow-animation
  0%
    clip-path: unset
  90%
    clip-path: unset
  100%
    clip-path: inset(-200px -100px)



.project-card
  position: relative
  display: flex
  flex-direction: column
  align-items: center
  gap: clamp(12px, 3vw, 20px)

  padding: clamp(16px, 4vw, 32px)
  background-color: darken($light-background, 5%)
  border-radius: clamp(16px, 4vw, 24px)
  box-shadow: 0px 30px 60px rgba(0, 0, 0, 0.35)
  width: 100%
  max-width: 320px
  z-index: 100
  &:not(:has(.video_frame))

.project-card_frame
  position: relative
  width: 100%
  max-width: 280px
  aspect-ratio: 1 / 0.85

  border-radius: clamp(12px, 3vw, 20px)
  background-color: var(--theme-color, transparent)
  box-shadow: 0 0 16px 1px $dark-background inset

  overflow: hidden
  clip-path: inset(-300px -100px 0)

  min-height: 0

.project-card_mask
  position: absolute
  inset: 0
  overflow: visible

.project-card_children
  width: 100%
  height: 100%

  padding: 20px
  border-radius: inherit
  scale: 0.65
  display: flex
  justify-content: center
  align-items: flex-start

  cursor: pointer

  transition: transform 0.45s cubic-bezier(0.22, 1, 0.36, 1)
  will-change: transform

.project-card_frame:hover
  overflow: visible
  animation: phone-frame-overflow-animation 1s ease forwards
  animation-delay:  0.4s
  & .project-card_children
    transform: translateY(-30%) perspective(900px) rotateX(-12deg) scale(1.25)
    &:has(.video_frame)
      animation: phone-take-out 2s ease-out forwards


.project-card_title
  font-size: clamp(18px, 4vw, 28px)
  font-weight: 600
  text-align: center

@media (max-width: $mobile-width)
  .project-card_children
    overflow: visible
    &:not(:has(.video_frame))
      scale: 0.9

  .project-card_frame
    overflow: visible
    &:not(:has(.video_frame))
      aspect-ratio: 1 / 0.5
